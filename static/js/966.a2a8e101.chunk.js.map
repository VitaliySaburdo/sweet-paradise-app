{"version":3,"file":"static/js/966.a2a8e101.chunk.js","mappings":"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","sources":["components/Section/Section.styled.tsx","components/Section/Section.tsx","components/OrdersHistoryItem/OrdersHistoryItem.tsx","components/OrdersHistoryList/OrdersHistoryList.styled.tsx","components/OrdersHistoryList/OrdersHistoryList.tsx","layout/OrderHistory/OrderHistory.styled.tsx","layout/OrderHistory/OrderHistory.tsx","pages/OrdersHistoryPage.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledSection = styled.section`\noverflow: visible;\n  padding-top: 60px;\n  padding-bottom: 60px;\n\n  @media screen and (${props => props.theme.media.md}) {\n    padding-top: 80px;\n    padding-bottom: 80px;\n  }\n\n  @media screen and (${props => props.theme.media.lg}) {\n    padding-top: 90px;\n    padding-bottom: 90px;\n  }\n`;\n","import { StyledSection } from './Section.styled';\n\ninterface Children {\n  children: React.ReactNode;\n}\n\nexport const Section: React.FC<Children> = props => {\n  return <StyledSection {...props} />;\n};\n","import { OrderHistoryProps } from \"../../App/App.types\";\n\ninterface OrderHistoryItemProps {\n  item: OrderHistoryProps;\n}\n\nexport const OrderHistoryItem: React.FC<OrderHistoryItemProps> = ({ item }) => {\n  return (\n    <>\n      <img\n        src={\"https://sweet-paradise-api.onrender.com/static/\" + item.img}\n        alt={item.name}\n        width={40}\n        height={10}\n      />\n    </>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const BlockWrapper = styled.div`\n  min-height: 245px;\n`;\n\nexport const MainWrapper = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n\nexport const Wrapper = styled.li`\n  min-height: 120px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px;\n  border-radius: 5px;\n  border: 1px solid #ffd4dd;\n  box-shadow: 4px 4px 10px 1px rgba(226, 226, 226, 0.46);\n`;\n","import { OrderHistoryProps } from \"../../App/App.types\";\nimport { OrderHistoryItem } from \"../OrdersHistoryItem/OrdersHistoryItem\";\nimport { BlockWrapper, MainWrapper, Wrapper } from \"./OrdersHistoryList.styled\";\n\ninterface orderHistoryProps {\n  ordersHistory: {\n    _id: string;\n    items: OrderHistoryProps[];\n    orderTime: string;\n    totalPrice: number;\n  }[];\n}\n\nexport const OrdersHistoryList: React.FC<orderHistoryProps> = ({\n  ordersHistory,\n}) => {\n  const ConvertTime = (dateString: string) => {\n    const date = new Date(dateString);\n    const day = date.getDate().toString().padStart(2, \"0\");\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    const year = date.getFullYear().toString().slice(-2);\n    return `${day}.${month}.${year}`;\n  };\n\n  const ordersHistoryByDate = ordersHistory.sort(\n    (a, b) => new Date(b.orderTime).getTime() - new Date(a.orderTime).getTime()\n  );\n\n  return (\n    <>\n      <BlockWrapper>\n        <MainWrapper>\n          {ordersHistoryByDate.map((order, index) => (\n            <Wrapper key={order._id}>\n              <p>\n                Order â„– {index + 1} dated{\" \"}\n                <span>{ConvertTime(order.orderTime)}</span>\n              </p>\n              <p>\n                Total price order <span>{order.totalPrice}</span>\n              </p>\n              <div style={{ display: \"flex\" }}>\n                {order.items.map((item, itemIndex) => (\n                  <OrderHistoryItem key={itemIndex} item={item} />\n                ))}\n              </div>\n            </Wrapper>\n          ))}\n        </MainWrapper>\n      </BlockWrapper>\n    </>\n  );\n};\n","import styled from \"styled-components\";\nimport { Section } from \"../../components/Section/Section\";\nimport { Button } from \"../../components/Button/Button\";\n\nexport const StyledSection = styled(Section)`\n  margin-top: 53px;\n  @media screen and (${(props) => props.theme.media.md}) {\n    margin-top: 51px;\n  }\n  @media screen and (${(props) => props.theme.media.lg}) {\n    margin-top: 71px;\n  }\n`;\n\nexport const MainTitle = styled.h2`\n  text-align: center;\n  font-family: \"Montserrat\", sans-serif;\n  color: #444251;\n  font-size: 46px;\n  margin-bottom: 25px;\n`;\n\nexport const StyledButton = styled(Button)`\n  display: block;\n  margin-top: 25px;\n  margin-right: auto;\n  margin-left: auto;\n`;\n\nexport const StyledContainer = styled.div`\n  min-height: 250px;\n  padding: 100px;\n`;\nexport const Title = styled.p`\n  font-family: \"Montserrat\", sans-serif;\n  color: #444251;\n  font-size: 20px;\n  font-weight: 600;\n  text-align: center;\n`","import { useAppDispatch } from \"../../hooks/reduxHook\";\nimport { logOut } from \"../../redux/auth/authOperations\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container } from \"../../components/Container/Container\";\nimport { OrdersHistoryList } from \"../../components/OrdersHistoryList/OrdersHistoryList\";\nimport { OrderHistoryProps } from \"../../App/App.types\";\nimport {\n  StyledSection,\n  StyledButton,\n  StyledContainer,\n  MainTitle, \n  Title,\n} from \"./OrderHistory.styled\";\n\ninterface orderHistoryProps {\n  ordersHistory: {\n    _id: string;\n    items: OrderHistoryProps[];\n    orderTime: string;\n    totalPrice: number;\n  }[];\n}\n\nexport const OrderHistory: React.FC<orderHistoryProps> = ({\n  ordersHistory,\n}) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  return (\n    <>\n      <StyledSection>\n        <Container>\n          <MainTitle>User history</MainTitle>\n          {ordersHistory.length ? (\n            <OrdersHistoryList ordersHistory={ordersHistory} />\n          ) : (\n            <StyledContainer>\n              <Title>You don`t have orders</Title>\n            </StyledContainer>\n          )}\n          <StyledButton\n            onClick={() => {\n              dispatch(logOut());\n              navigate(\"/\");\n            }}\n          >\n            Logout\n          </StyledButton>\n        </Container>\n      </StyledSection>\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { useAppSelector } from \"../hooks/reduxHook\";\nimport { getAllOrders } from \"../services/apiService\";\nimport { selectUserId } from \"../redux/auth/authSelectors\";\nimport { OrderHistory } from \"../layout/OrderHistory/OrderHistory\";\n\nconst OrdersHistoryPage = () => {\n  const [ordersHistory, setOrdersHistory] = useState<any>([]);\n\n  const currentUser = useAppSelector(selectUserId);\n\n  useEffect(() => {\n    const getOrdersHistory = async () => {\n      try {\n        if (currentUser) {\n          const data = await getAllOrders(currentUser);\n          setOrdersHistory(data);\n        }\n      } catch (error) {}\n    };\n    getOrdersHistory();\n  }, [currentUser]);\n\n  return (\n    <>\n      <OrderHistory ordersHistory={ordersHistory} />\n    </>\n  );\n};\n\nexport default OrdersHistoryPage;\n"],"names":["StyledSection","styled","section","_templateObject","_taggedTemplateLiteral","props","theme","media","md","lg","Section","_jsx","_objectSpread","OrderHistoryItem","_ref","item","_Fragment","children","src","img","alt","name","width","height","BlockWrapper","div","MainWrapper","ul","_templateObject2","Wrapper","li","_templateObject3","OrdersHistoryList","ordersHistory","ConvertTime","dateString","date","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","slice","concat","ordersHistoryByDate","sort","a","b","orderTime","getTime","map","order","index","_jsxs","totalPrice","style","display","items","itemIndex","_id","MainTitle","h2","StyledButton","Button","StyledContainer","_templateObject4","Title","p","_templateObject5","OrderHistory","dispatch","useAppDispatch","navigate","useNavigate","Container","length","onClick","logOut","_useState","useState","_useState2","_slicedToArray","setOrdersHistory","currentUser","useAppSelector","selectUserId","useEffect","getOrdersHistory","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","getAllOrders","sent","t0","stop","apply","arguments"],"sourceRoot":""}